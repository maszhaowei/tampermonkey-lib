!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.commonlib=t():e.commonlib=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Const:()=>o,ui:()=>i,util:()=>n});var o={};e.r(o),e.d(o,{KeyboardKeyCode:()=>r});const r={Space:{code:"Space",key:" "},Enter:{code:"Enter",key:"Enter"},Escape:{code:"Escape",key:"Escape"},KeyC:{code:"KeyC",key:"c"},KeyD:{code:"KeyD",key:"d"},KeyF:{code:"KeyF",key:"f"},KeyG:{code:"KeyG",key:"g"},KeyI:{code:"KeyI",key:"i"},KeyQ:{code:"KeyQ",key:"q"},KeyR:{code:"KeyR",key:"r"},KeyS:{code:"KeyS",key:"s"},KeyV:{code:"KeyV",key:"v"},KeyW:{code:"KeyW",key:"w"},BracketLeft:{code:"BracketLeft",key:"["},BracketRight:{code:"BracketRight",key:"]"},ArrowLeft:{code:"ArrowLeft",key:"ArrowLeft"},ArrowRight:{code:"ArrowRight",key:"ArrowRight"},ArrowUp:{code:"ArrowUp",key:"ArrowUp"},ArrowDown:{code:"ArrowDown",key:"ArrowDown"},Numpad0:{code:"Numpad0",key:"0"},Numpad1:{code:"Numpad1",key:"1"},Numpad2:{code:"Numpad2",key:"2"},Numpad3:{code:"Numpad3",key:"3"},Numpad4:{code:"Numpad4",key:"4"},Numpad5:{code:"Numpad5",key:"5"},Numpad6:{code:"Numpad6",key:"6"},Numpad7:{code:"Numpad7",key:"7"},Numpad8:{code:"Numpad8",key:"8"},Numpad9:{code:"Numpad9",key:"9"}};let n={printDebug(e,...t){console.group(`[${e}]`),console.debug(...t),console.groupEnd()},printReceiveMessage(e){n.debug(`From: ${e.origin}, To: ${window.location.origin}, Message:`,e.data)},printSendMessage(e,t){n.debug(`To: ${e}, From: ${window.location.origin}, Message:`,t)},getQueryVariable(e){let t=window.location.search.substring(1).split("&");for(let o=0;o<t.length;o++){let r=t[o].split("=");if(r[0]==e)return r[1]}return!1},asyncDelayedFn:(e,t,o,r=0)=>new Promise(((n,i)=>setTimeout((()=>{void 0===o?n(t.apply(e)):Array.isArray(o)?n(t.apply(e,o)):i(o),n(!0)}),r))),isInteger(e){if(isNaN(e))return!1;let t=parseFloat(e);return(0|t)===t},isNumeric:e=>!isNaN(parseFloat(e))&&isFinite(e),isZH:e=>/^[\u4e00-\u9fa5]+$/.test(e),isChineseDigits(e){let t=Object.keys(this._common_used_numerals);for(const o of e)if(!t.includes(o))return!1;return!0},zh2Digits(e){if(n.isInteger(e))return e;if(!this.isChineseDigits(e))return;let t=0,o=1;for(let r=e.length-1;r>=0;r--){let n=this._common_used_numerals[e[r]];n>=10&&0==r?n>o?(o=n,t+=n):o*=n:n>=10?n>o?o=n:o*=n:t+=o*n}return t},digits2ZH(e){if(this.isZH(e))return e;if(!n.isInteger(e))return;let t=["零","一","二","三","四","五","六","七","八","九","十","百","千","万","亿"];var o=e.length;return 1==o?t[e]:2==o?10==e?t[e]:e>10&&e<20?"十"+t[e.charAt(1)]:t[e.charAt(0)]+"十"+t[e.charAt(1)].replace("零",""):void 0}};const i={offset2(e){let t={top:0,left:0};if(!e.getClientRects().length)return t;if("none"===window.getComputedStyle(e).display)return t;t=e.getBoundingClientRect();let o=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-o.clientTop,left:t.left+window.pageXOffset-o.clientLeft}},scrollToElement(e){if(!e)return;let t=e.ownerDocument.documentElement;t.scrollTo(0,i.offset2(e).top-(t.clientHeight-e.getBoundingClientRect().height)/2)},isInputEvent:e=>!!e.target&&("TEXTAREA"==e.target.tagName.toUpperCase()||"INPUT"==e.target.tagName.toUpperCase()&&"text"==e.target.type||e.isComposing||229===e.keyCode),dispatchMouseEvent(e,t,o){o=o||{bubbles:!1,cancelable:!1};let r=document.createEvent("MouseEvent");r.initMouseEvent(t,o.bubbles,o.cancelable,unsafeWindow,0,o.screenX||0,o.screenY||0,o.clientX||0,o.clientY||0,o.ctrlKey||!1,o.altKey||!1,o.shiftKey||!1,o.metaKey||!1,o.button||0,o.relatedTarget||null),e.dispatchEvent(r)},dispatchClickEvent(e,t){i.dispatchMouseEvent(e,"click",t)},isEventFromThisDoc:e=>e.target&&e.target.getRootNode().isSameNode(document),hide(e,t=document){t.querySelectorAll(e).forEach((e=>i.hideElement(e)))},hideElement(e){e&&(e.style.display="none")},querySelectorFirst(e,t){if(t instanceof Element)return t.querySelector(e);for(let o of document.querySelectorAll(t)){let t=o.querySelector(e);if(t)return t}}};return t})()}));