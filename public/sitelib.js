!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sitelib=e():t.sitelib=e()}(self,(function(){return(()=>{var t={347:(t,e,i)=>{"use strict";i.r(e),i.d(e,{SiteCategory:()=>o,PlayerMetadata:()=>r,Site:()=>n,VideoSite:()=>s,VideoPortalSite:()=>l});class o{categoryName;titleRegEx;constructor(t,e){this.categoryName=t,this.titleRegEx=e}}class r{#t;get containerSelector(){return this.#t}#e;get controlsSelector(){return this.#e}#i;get topElementSelectors(){return this.#i}#o;get playButtonSelector(){return this.#o}#r;get fullscreenButtonSelector(){return this.#r}#n;get webFullscreenButtonSelector(){return this.#n}#s;get volumeButtonSelector(){return this.#s}constructor(t,e,i,o,r,n,s){this.#t=t,this.#e=e,this.#i=i,this.#o=o,this.#s=r,this.#r=n,this.#n=s}}class n{#l;get id(){return this.#l}#a;get origin(){return this.#a}#I;get hrefRegEx(){return this.#I}#c;get siteCategories(){return this.#c}#w;get originWhitelist(){return this.#w}constructor(t,e,i,o,r=[]){this.#l=t,this.#a=e,this.#I=i,this.#c=o,this.#w=r}isMessageOriginAllowed(t){return!!t&&(t===window.location.origin||this.#w.includes(t))}test(){return this.#I?this.#I.test(window.location.href):this.#a?this.#a==window.location.origin:void 0}}class s extends n{#S;get parent(){return this.#S}#u;get defaultPlayerMetadata(){return this.#u}constructor(t,e){super(t.id,t.origin,t.hrefRegEx,t.siteCategories,t.originWhitelist),this.#S=t,this.#u=e}}class l extends n{}},932:()=>{},425:(t,e,i)=>{"use strict";i.r(e),i.d(e,{SiteCategories:()=>r,SiteIDs:()=>n,Sites:()=>s,VideoSites:()=>I});var o=i(347);const r={AV:new o.SiteCategory("AV",/([a-zA-Z]+-\d+)(-(\w+))?/),DB:new o.SiteCategory("DB"),GAME:new o.SiteCategory("Game"),IMAGE_HOSTING:new o.SiteCategory("Image Hosting"),LIVE_STREAMING:new o.SiteCategory("Live Streaming"),MODDING:new o.SiteCategory("Modding"),MOVIE:new o.SiteCategory("Movie"),TV_SERIES:new o.SiteCategory("TV Series",/([\u4e00-\u9fa5\w]+)第(.+)季.*第(.+)集/),VIDEO_HOSTING:new o.SiteCategory("Video Hosting"),VIDEO_SHARING:new o.SiteCategory("Video Sharing")},n={"7MM":"7MM",AVGLE:"AVGLE",AVGLE_EMBED:"AVGLE_EMBED",BILIBILI:"BILIBILI",BILIBILI_VIDEO:"BILIBILI_VIDEO",BILIBILI_BANGUMI:"BILIBILI_BANGUMI",BILIBILI_LIVE:"BILIBILI_LIVE",BUYCAR5:"BUYCAR5",DIOUS:"DIOUS",JABLE:"JABLE",JAVLIBRARY:"JAVLIBRARY",JX444662:"JX444662",MEIJUBS:"MEIJUBS",MEIJUTTB:"MEIJUTTB",MINGTIAN6:"MINGTIAN6",MM9842:"MM9842",NEXUSMODS:"NEXUSMODS",QINGBEIBAN:"QINGBEIBAN",QXWK:"QXWK",STEAM_COMMUNITY_REVIEW:"STEAM_COMMUNITY_REVIEW",STEAM_STORE:"STEAM_STORE",WALLHAVEN:"WALLHAVEN",WUKONGMEIJU:"WUKONGMEIJU",YOUTUBE_EMBED:"YOUTUBE_EMBED"},s={"7MM":new o.Site(n["7MM"],"https://7mmtv.tv",/^https:\/\/7mmtv\.tv\/.*/,[r.AV],["https://mm9842.com","https://avgle.com"]),AVGLE:new o.Site(n.AVGLE,"https://avgle.com",/^https:\/\/avgle\.com\/video\/\w+/,[r.AV],["https://7mmtv.tv"]),AVGLE_EMBED:new o.Site(n.AVGLE_EMBED,"https://avgle.com",/^https:\/\/avgle\.com\/embed\/\w+$/,[r.AV],["https://7mmtv.tv"]),BILIBILI:new o.Site(n.BILIBILI,"https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/.*/,[r.VIDEO_SHARING]),BILIBILI_BANGUMI:new o.Site(n.BILIBILI_BANGUMI,"https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/bangumi\/play\/.+/,[r.VIDEO_SHARING]),BILIBILI_LIVE:new o.Site(n.BILIBILI_LIVE,"https://live.bilibili.com",/^https:\/\/live\.bilibili\.com\/.*/,[r.LIVE_STREAMING]),BILIBILI_VIDEO:new o.Site(n.BILIBILI_VIDEO,"https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/video\/.+/,[r.VIDEO_SHARING]),BUYCAR5:new o.Site(n.BUYCAR5,"https://vod3.buycar5.cn",/^https:\/\/vod\d+\.buycar5\.cn/,[r.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),DIOUS:new o.Site(n.DIOUS,"https://v7.dious.cc",/^https:\/\/v7.dious.cc/,[r.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),JABLE:new o.Site(n.JABLE,"https://jable.tv",/^https:\/\/jable.tv/,[r.AV]),JAVLIBRARY:new o.Site(n.JAVLIBRARY,"https://www.javlibrary.com",/^https:\/\/www\.javlibrary\.com\/.*/,[r.AV]),JX444662:new o.Site(n.JX444662,"https://jx.444662.cn",/^https:\/\/jx.444662.cn/,[r.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),MEIJUBS:new o.Site(n.MEIJUBS,"https://www.meijubs.com",void 0,[r.TV_SERIES],["https://vod3.buycar5.cn","https://jx.444662.cn","https://vod4.buycar5.cn","https://v7.dious.cc"]),MEIJUTTB:new o.Site(n.MEIJUTTB,"https://www.meijuttb.com",void 0,[r.TV_SERIES],["https://vod3.buycar5.cn","https://jx.444662.cn","https://vod4.buycar5.cn"]),MINGTIAN6:new o.Site(n.MINGTIAN6,"https://www.mingtian6.com",void 0,[r.TV_SERIES],["https://www.qingbeiban.com"]),MM9842:new o.Site(n.MM9842,"https://mm9842.com",/^https:\/\/mm9842.com/,[r.AV],["https://7mmtv.tv"]),NEXUSMODS:new o.Site(n.NEXUSMODS,"https://www.nexusmods.com",void 0,[r.MODDING],["https://www.youtube.com"]),QINGBEIBAN:new o.Site(n.QINGBEIBAN,"https://www.qingbeiban.com",/^https:\/\/www.qingbeiban.com/,[r.VIDEO_HOSTING],["https://www.mingtian6.com"]),QXWK:new o.Site(n.QXWK,"https://code.qxwk.net",/^https:\/\/code.qxwk.net/,[r.VIDEO_HOSTING],["https://m.wukongmeiju.com"]),STEAM_COMMUNITY_REVIEW:new o.Site(n.STEAM_COMMUNITY_REVIEW,"https://steamcommunity.com",/^https:\/\/steamcommunity\.com\/app\/\d+\/reviews\/.+/,[r.GAME]),STEAM_STORE:new o.Site(n.STEAM_STORE,"https://store.steampowered.com",/^https:\/\/store\.steampowered\.com\/.*/,[r.GAME]),WALLHAVEN:new o.Site(n.WALLHAVEN,"https://wallhaven.cc",/^https:\/\/wallhaven\.cc\/.*/,[r.IMAGE_HOSTING]),WUKONGMEIJU:new o.Site(n.WUKONGMEIJU,"https://m.wukongmeiju.com",void 0,[r.TV_SERIES],["https://code.qxwk.net"]),YOUTUBE_EMBED:new o.Site(n.YOUTUBE_EMBED,"https://www.youtube.com",/^https:\/\/www.youtube.com\/embed\/[\w-]+$/,[r.VIDEO_SHARING],["https://www.nexusmods.com"])};let l=["div#video-player","div.vjs-control-bar",void 0,"button.vjs-play-control",void 0,"button.vjs-fullscreen-control"],a=["div#dplayer, div#mvideo",void 0,"button.dplayer-play-icon","button.dplayer-volume-icon","button.dplayer-full-icon"];const I={AVGLE:new o.VideoSite(s.AVGLE,new o.PlayerMetadata(...l)),AVGLE_EMBED:new o.VideoSite(s.AVGLE_EMBED,new o.PlayerMetadata(...l)),BILIBILI_VIDEO:new o.VideoSite(s.BILIBILI_VIDEO,new o.PlayerMetadata("div.bilibili-player-video-wrap",".bilibili-player-video-control-wrap",void 0,"div.bilibili-player-video-btn-start","button.bilibili-player-iconfont-volume","div.bilibili-player-video-btn-fullscreen button","div.bilibili-player-video-web-fullscreen button")),BILIBILI_BANGUMI:new o.VideoSite(s.BILIBILI_BANGUMI,new o.PlayerMetadata("div.bpx-player-video-area",".bpx-player-control-wrap",void 0,"div.squirtle-video-start","div.squirtle-volume-icon","div.squirtle-video-fullscreen","div.squirtle-video-pagefullscreen")),BUYCAR5:new o.VideoSite(s.BUYCAR5,new o.PlayerMetadata(...a)),DIOUS:new o.VideoSite(s.DIOUS,new o.PlayerMetadata(...a)),JABLE:new o.VideoSite(s.JABLE,new o.PlayerMetadata("div.plyr.plyr--video","div.plyr__controls",void 0,void 0,"button[data-plyr=mute]","button[data-plyr=fullscreen]")),JX444662:new o.VideoSite(s.JX444662,new o.PlayerMetadata("div#playerCnt","div.prism-controlbar",void 0)),MM9842:new o.VideoSite(s.MM9842,new o.PlayerMetadata("div.jw-wrapper","div.jw-controls",void 0,void 0,"div.jw-icon-volume","div.jw-icon-fullscreen")),QINGBEIBAN:new o.VideoSite(s.QINGBEIBAN,new o.PlayerMetadata(...a)),QXWK:new o.VideoSite(s.QXWK,new o.PlayerMetadata(...a)),YOUTUBE_EMBED:new o.VideoSite(s.YOUTUBE_EMBED,new o.PlayerMetadata("div#player",".ytp-chrome-bottom",[".ytp-pause-overlay"],"button.ytp-play-button","button.ytp-mute-button","button.ytp-fullscreen-button"))}}},e={};function i(o){var r=e[o];if(void 0!==r)return r.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,i),n.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";i.r(o),i.d(o,{Class:()=>e,Const:()=>t,Enum:()=>r,ui:()=>s,util:()=>n});var t=i(932),e=i(347),r=i(425);const n={getCurrentSite(){for(let t in r.Sites){const e=r.Sites[t];if(e.test())return e}throw"No match for current site"},getCurrentVideoSite(){for(let t in r.VideoSites){const e=r.VideoSites[t];if(e.test())return e}throw"No match for current video site"},getCurrentPageCategory(t=n.getCurrentSite()){let e=t.siteCategories;if(!Array.isArray(e)||0==e.length)throw"Site categories is empty.";return 1==e.length?e[0]:e.includes(r.SiteCategories.TV_SERIES)&&r.SiteCategories.TV_SERIES.titleRegEx.test(document.title)?e.TV_SERIES:e&&e.includes(r.SiteCategories.MOVIE)?r.SiteCategories.MOVIE:void 0}},s={}})(),o})()}));