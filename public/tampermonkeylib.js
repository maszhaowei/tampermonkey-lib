!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.tampermonkeylib=t():e.tampermonkeylib=t()}(self,(function(){return(()=>{"use strict";var e={941:(e,t,r)=>{r.d(t,{KeyboardKeyCode:()=>o,SiteCategory:()=>i,Site:()=>n});class o{code;key;constructor(e,t){this.code=e,this.key=t}}class i{categoryName;titleRegEx;constructor(e,t){this.categoryName=e,this.titleRegEx=t}}class n{#e;get id(){return this.#e}#t;get origin(){return this.#t}#r;get hrefRegEx(){return this.#r}#o;get siteCategories(){return this.#o}get currentPageCategory(){let e=this.#o;if(Array.isArray(e)){if(1==e.length)return e[0];for(let t of e)if(t.titleRegEx&&t.titleRegEx.test(document.title))return t}}#i;get originWhitelist(){return this.#i}constructor(e,t,r,o,i=[]){this.#e=e,this.#t=t,this.#r=r,this.#o=o,this.#i=i}isMessageOriginAllowed(e){return!!e&&(e===window.location.origin||this.#i.includes(e))}test(){return this.#r?this.#r.test(window.location.href):this.#t?this.#t==window.location.origin:void 0}}},613:(e,t,r)=>{r.d(t,{SiteCategories:()=>i,Sites:()=>n});var o=r(941);new o.KeyboardKeyCode("Space"," "),new o.KeyboardKeyCode("Enter","Enter"),new o.KeyboardKeyCode("Escape","Escape"),new o.KeyboardKeyCode("KeyC","c"),new o.KeyboardKeyCode("KeyD","d"),new o.KeyboardKeyCode("KeyF","f"),new o.KeyboardKeyCode("KeyG","g"),new o.KeyboardKeyCode("KeyI","i"),new o.KeyboardKeyCode("KeyQ","q"),new o.KeyboardKeyCode("KeyR","r"),new o.KeyboardKeyCode("KeyS","s"),new o.KeyboardKeyCode("KeyV","v"),new o.KeyboardKeyCode("KeyW","w"),new o.KeyboardKeyCode("BracketLeft","["),new o.KeyboardKeyCode("BracketRight","]"),new o.KeyboardKeyCode("ArrowLeft","ArrowLeft"),new o.KeyboardKeyCode("ArrowRight","ArrowRight"),new o.KeyboardKeyCode("ArrowUp","ArrowUp"),new o.KeyboardKeyCode("ArrowDown","ArrowDown"),new o.KeyboardKeyCode("Numpad0","0"),new o.KeyboardKeyCode("Numpad1","1"),new o.KeyboardKeyCode("Numpad2","2"),new o.KeyboardKeyCode("Numpad3","3"),new o.KeyboardKeyCode("Numpad4","4"),new o.KeyboardKeyCode("Numpad5","5"),new o.KeyboardKeyCode("Numpad6","6"),new o.KeyboardKeyCode("Numpad7","7"),new o.KeyboardKeyCode("Numpad8","8"),new o.KeyboardKeyCode("Numpad9","9"),new o.KeyboardKeyCode("F8","F8");const i={AV:new o.SiteCategory("AV",/([a-zA-Z]+-\d+)(-(\w+))?/),DB:new o.SiteCategory("DB"),GAME:new o.SiteCategory("Game"),IMAGE_HOSTING:new o.SiteCategory("Image Hosting"),LIVE_STREAMING:new o.SiteCategory("Live Streaming"),MODDING:new o.SiteCategory("Modding"),MOVIE:new o.SiteCategory("Movie"),TV_SERIES:new o.SiteCategory("TV Series",/([\u4e00-\u9fa5\w]+)第(.+)季.*第(.+)集/),VIDEO_HOSTING:new o.SiteCategory("Video Hosting"),VIDEO_SHARING:new o.SiteCategory("Video Sharing")},n={"7MM":new o.Site("7MM","https://7mmtv.tv",/^https:\/\/www\.bilibili\.com\/.*/,[i.AV],["https://mm9842.com","https://avgle.com"]),AVGLE:new o.Site("AVGLE","https://avgle.com",/^https:\/\/avgle\.com\/video\/\w+/,[i.AV],["https://7mmtv.tv"]),AVGLE_EMBED:new o.Site("AVGLE_EMBED","https://avgle.com",/^https:\/\/avgle\.com\/embed\/\w+$/,[i.AV],["https://7mmtv.tv"]),BILIBILI:new o.Site("BILIBILI","https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/.*/,[i.VIDEO_SHARING]),BILIBILI_BANGUMI:new o.Site("BILIBILI_BANGUMI","https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/bangumi\/play\/.+/,[i.VIDEO_SHARING]),BILIBILI_LIVE:new o.Site("BILIBILI_LIVE","https://live.bilibili.com",/^https:\/\/live\.bilibili\.com\/.*/,[i.LIVE_STREAMING]),BILIBILI_VIDEO:new o.Site("BILIBILI_VIDEO","https://www.bilibili.com",/^https:\/\/www\.bilibili\.com\/video\/.+/,[i.VIDEO_SHARING]),BUYCAR5:new o.Site("BUYCAR5","https://vod3.buycar5.cn",/^https:\/\/vod\d+\.buycar5\.cn/,[i.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),DIOUS:new o.Site("DIOUS","https://v7.dious.cc",/^https:\/\/v7.dious.cc/,[i.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),JABLE:new o.Site("JABLE","https://jable.tv",/^https:\/\/jable.tv/,[i.AV]),JAVLIBRARY:new o.Site("JAVLIBRARY","https://www.javlibrary.com",/^https:\/\/www\.javlibrary\.com\/.*/,[i.AV]),JX444662:new o.Site("JX444662","https://jx.444662.cn",/^https:\/\/jx.444662.cn/,[i.VIDEO_HOSTING],["https://www.meijuttb.com","https://www.meijubs.com"]),MEIJUBS:new o.Site("MEIJUBS","https://www.meijubs.com",void 0,[i.TV_SERIES],["https://vod3.buycar5.cn","https://jx.444662.cn","https://vod4.buycar5.cn","https://v7.dious.cc"]),MEIJUTTB:new o.Site("MEIJUTTB","https://www.meijuttb.com",void 0,[i.TV_SERIES],["https://vod3.buycar5.cn","https://jx.444662.cn","https://vod4.buycar5.cn"]),MINGTIAN6:new o.Site("MINGTIAN6","https://www.mingtian6.com",void 0,[i.TV_SERIES],["https://www.qingbeiban.com"]),MM9842:new o.Site("MM9842","https://mm9842.com",/^https:\/\/mm9842.com/,[i.AV],["https://7mmtv.tv"]),NEXUSMODS:new o.Site("NEXUSMODS","https://www.nexusmods.com",void 0,[i.MODDING],["https://www.youtube.com"]),QINGBEIBAN:new o.Site("QINGBEIBAN","https://www.qingbeiban.com",/^https:\/\/www.qingbeiban.com/,[i.VIDEO_HOSTING],["https://www.mingtian6.com"]),QXWK:new o.Site("QXWK","https://code.qxwk.net",/^https:\/\/code.qxwk.net/,[i.VIDEO_HOSTING],["https://m.wukongmeiju.com"]),STEAM_COMMUNITY_REVIEW:new o.Site("STEAM_COMMUNITY_REVIEW","https://steamcommunity.com",/^https:\/\/steamcommunity\.com\/app\/\d+\/reviews\/.+/,[i.GAME]),STEAM_STORE:new o.Site("STEAM_STORE","https://store.steampowered.com",/^https:\/\/store\.steampowered\.com\/.*/,[i.GAME]),WALLHAVEN:new o.Site("WALLHAVEN","https://wallhaven.cc",/^https:\/\/wallhaven\.cc\/.*/,[i.IMAGE_HOSTING]),WUKONGMEIJU:new o.Site("WUKONGMEIJU","https://m.wukongmeiju.com",void 0,[i.TV_SERIES],["https://code.qxwk.net"]),YOUTUBE_EMBED:new o.Site("YOUTUBE_EMBED","https://www.youtube.com",/^https:\/\/www.youtube.com\/embed\/[\w-]+$/,[i.VIDEO_SHARING],["https://www.nexusmods.com"])}},167:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(645),i=r.n(o)()((function(e){return e[1]}));i.push([e.id,".mode-fullscreen, .mode-webfullscreen {\r\n    position: fixed !important;\r\n    border-radius: 0;\r\n    z-index: 100000;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    margin: 0 auto !important;\r\n    padding: 0 !important;\r\n}\r\nbody.player-mode-webfullscreen {\r\n    position: fixed !important;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0\r\n}\r\n\r\niframe.player-fullscreen-fix {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    z-index: 100000;\r\n}\r\n\r\n.zw-event-delegate {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 98;\r\n}\r\n.zw-top-overlay {\r\n    z-index: 99 !important;\r\n}",""]);const n=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var n=0;n<this.length;n++){var s=this[n][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var d=[].concat(e[a]);o&&i[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},379:e=>{var t=[];function r(e){for(var r=-1,o=0;o<t.length;o++)if(t[o].identifier===e){r=o;break}return r}function o(e,o){for(var n={},s=[],a=0;a<e.length;a++){var d=e[a],c=o.base?d[0]+o.base:d[0],l=n[c]||0,p="".concat(c," ").concat(l);n[c]=l+1;var w=r(p),u={css:d[1],media:d[2],sourceMap:d[3]};-1!==w?(t[w].references++,t[w].updater(u)):t.push({identifier:p,updater:i(u,o),references:1}),s.push(p)}return s}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var n=o(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<n.length;s++){var a=r(n[s]);t[a].references--}for(var d=o(e,i),c=0;c<n.length;c++){var l=r(n[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}n=d}}},569:e=>{var t={};e.exports=function(e,r){var o=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var o=r.css,i=r.media,n=r.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={id:o,exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{Class:()=>e,Const:()=>t,Enum:()=>i,ui:()=>R,util:()=>S});var e={};r.r(e),r.d(e,{VideoSite:()=>a});var t={};r.r(t),r.d(t,{eventDelegateClassName:()=>u,eventDelegateSelector:()=>m,iframeFullscreenClassName:()=>p,iframeFullscreenSelector:()=>w,scriptInfo:()=>c,scriptName:()=>l,topOverlayClassName:()=>y,topOverlaySelector:()=>E});var i={};r.r(i),r.d(i,{CallbackTypes:()=>g,MessageTypes:()=>I,VideoSites:()=>h});var n=r(941),s=r(613);class a extends n.Site{#n;get containerSelector(){return this.#n}#s;get controlsSelector(){return this.#s}#a;get topElementSelectors(){return this.#a}get currentPageCategory(){return super.currentPageCategory||(super.siteCategories&&super.siteCategories.includes(s.SiteCategories.MOVIE)?s.SiteCategories.MOVIE:void 0)}constructor(e,t,r,o){super(e.id,e.origin,e.hrefRegEx,e.siteCategories,e.originWhitelist),this.#n=t,this.#s=r,this.#a=o}}const d="undefined"==typeof GM_info?{}:GM_info,c=d&&d.script,l=c&&c.name,p="player-fullscreen-fix",w="."+p,u="zw-event-delegate",m="."+u,y="zw-top-overlay",E="."+y,h={AVGLE:new a(s.Sites.AVGLE,"div#video-player","div.vjs-control-bar"),AVGLE_EMBED:new a(s.Sites.AVGLE_EMBED,"div#video-player","div.vjs-control-bar"),BILIBILI_VIDEO:new a(s.Sites.BILIBILI_VIDEO,"div.bilibili-player-video-wrap",".bilibili-player-video-control-wrap"),BILIBILI_BANGUMI:new a(s.Sites.BILIBILI_BANGUMI,"div.bpx-player-video-area",".bpx-player-control-wrap"),BUYCAR5:new a(s.Sites.BUYCAR5,"div#dplayer, div#mvideo"),DIOUS:new a(s.Sites.DIOUS,"div#mvideo",".dplayer-controller"),JABLE:new a(s.Sites.JABLE,"div.plyr.plyr--video","div.plyr__controls"),JX444662:new a(s.Sites.JX444662,"div#playerCnt","div.prism-controlbar"),MM9842:new a(s.Sites.MM9842,"div.jw-wrapper","div.jw-controls"),QINGBEIBAN:new a(s.Sites.QINGBEIBAN,"div#dplayer, div#mvideo"),QXWK:new a(s.Sites.QXWK,"div#dplayer, div#mvideo"),YOUTUBE_EMBED:new a(s.Sites.YOUTUBE_EMBED,"div#player",".ytp-chrome-bottom",[".ytp-pause-overlay"])},I={SITE_INFO:"site_info",VIDEO_ATTR_INITIALIZED:"video_attr_initialized",VIDEO_READY:"video_ready",SWITCH_PLAYING_VIDEO:"switch_playing_video",READY_FOR_MESSAGE:"ready_for_message",REQUEST_WEBFULLSCREEN:"request_webfullscreen",EXIT_WEBFULLSCREEN:"exit_webfullscreen",KEYDOWN:"keydown",EVENT_DELEGATE_SELECTOR:"event+delegate_selector"},g={VIDEO_ATTR_INITIALIZED:"video_attr_initialized",VIDEO_READY:"video_ready",PLAY:"play",KEYDOWN:"keydown",REQUEST_WEBFULLSCREEN:"request_webfullscreen",EXIT_WEBFULLSCREEN:"exit_webfullscreen",EVENT_DELEGATE_SELECTOR:"event+delegate_selector"},S={debug(...e){console.group(`[${l}]`),console.debug(...e),console.groupEnd()},get:(e,t,r)=>new Promise(((o,i)=>{GM_xmlhttpRequest({method:"GET",url:e,headers:t,responseType:r||"json",onload:e=>{o(e.response||e.responseText)},onerror:e=>{i(e)}})})),post:(e,t,r,o)=>(t=t||{"Content-Type":"application/x-www-form-urlencoded"},new Promise(((i,n)=>{GM_xmlhttpRequest({method:"POST",url:e,headers:t,data:r,responseType:o||"json",onload:e=>{i(e.response||e.responseText)},onerror:e=>{n(e)}})}))),printReceiveMessage(e){S.debug(`From: ${e.origin}, To: ${window.location.origin}, Message:`,e.data)},printSendMessage(e,t){S.debug(`To: ${e}, From: ${window.location.origin}, Message:`,t)}};var v=r(379),b=r.n(v),f=r(795),_=r.n(f),A=r(569),C=r.n(A),K=r(565),M=r.n(K),N=r(216),T=r.n(N),B=r(589),L=r.n(B),O=r(167),V={};V.styleTagTransform=L(),V.setAttributes=M(),V.insert=C().bind(null,"head"),V.domAPI=_(),V.insertStyleElement=T(),b()(O.Z,V),O.Z&&O.Z.locals&&O.Z.locals;const R={getCurrentVideoSite(){for(let e in h)if(h[e].test())return h[e];throw"No match for current video site"}}})(),o})()}));